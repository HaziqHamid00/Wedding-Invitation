<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Wedding Invitation</title>

<link rel="stylesheet" href="style.css">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Playfair+Display&display=swap" rel="stylesheet">
</head>

<body>

<div class="wrapper">

  <!-- ===== COVER (SEALED ENVELOPE) ===== -->
  <div id="coverStage" class="stage">
    <img src="cover.png" class="full-img">

    <!-- clickable seal area -->
    <div class="seal-click" onclick="openEnvelope()"></div>
  </div>

  <!-- ===== OPEN ENVELOPE ===== -->
  <div id="openStage" class="stage hidden">
    <img src="card1.png" class="full-img open-envelope">
  </div>

  <!-- ===== LETTER CONTENT (slides out) ===== -->
  <div id="letterStage" class="stage hidden">

    <img src="card2.png" class="slide-card" id="card2">
    <img src="card3.png" class="slide-card">
    <img src="card4.png" class="slide-card">

    <!-- COUNTDOWN -->
    <div class="countdown">
      <div class="event-card">
        <div class="event-title">Majlis Bermula Dalam</div>
        <div class="timer" id="timer"></div>

        <div class="event-text">
          Glo Damansara Shopping Mall<br>
          Petaling Jaya<br><br>
          Sabtu • 2 Mei 2026 • 11:00 pagi
        </div>

        <a class="map-btn"
        href="https://maps.app.goo.gl/E8qS2P7xVHtyL8967"
        target="_blank">
        Buka Google Map
        </a>
      </div>
    </div>

    <!-- GALLERY -->
    <div class="gallery">
      <div class="gallery-grid">
        <img src="gallery1.jpg">
        <img src="gallery2.jpg">
        <img src="gallery3.jpg">
        <img src="gallery4.jpg">
      </div>

      <a class="rsvp-btn"
      href="https://forms.gle/KYxswksdS9Qqm9YC8"
      target="_blank">
      RSVP Sekarang
      </a>
    </div>

  </div>

</div>

<!-- overlays -->
<div class="vignette"></div>
<div class="sparkle-layer" id="sparkle"></div>

<!-- music -->
<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* ================= ENVELOPE OPEN SEQUENCE ================= */

function openEnvelope() {

  document.getElementById("bgm").play().catch(()=>{});

  const cover = document.getElementById("coverStage");
  const open = document.getElementById("openStage");
  const letter = document.getElementById("letterStage");

  cover.classList.add("fade-out");

  setTimeout(()=>{
    cover.classList.add("hidden");
    open.classList.remove("hidden");
    open.classList.add("zoom-in");
  },600);

  setTimeout(()=>{
    letter.classList.remove("hidden");
    document.getElementById("card2").classList.add("card-out");
  },1300);

  startDust();
}

/* ================= COUNTDOWN ================= */

const target = new Date("May 2, 2026 11:00:00").getTime();

setInterval(()=>{
  const now = Date.now();
  const d = target - now;

  if (d <= 0) return;

  const days = Math.floor(d/(1000*60*60*24));
  const hours = Math.floor((d%(1000*60*60*24))/(1000*60*60));
  const mins = Math.floor((d%(1000*60*60))/(1000*60));
  const secs = Math.floor((d%(1000*60))/1000);

  document.getElementById("timer").innerHTML =
    `${days} hari ${hours} jam ${mins} minit ${secs} saat`;

},1000);

/* ================= GOLD DUST ================= */

function startDust(){
  const layer = document.getElementById("sparkle");
  for(let i=0;i<40;i++){
    const d = document.createElement("div");
    d.className = "dust";
    d.style.left = Math.random()*100 + "%";
    d.style.animationDelay = Math.random()*15 + "s";
    d.style.animationDuration = (12 + Math.random()*10)+"s";
    layer.appendChild(d);
  }
}
</script>

</body>
</html>
